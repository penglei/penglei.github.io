<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta name="renderer" content="webkit" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1"
    />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec" />
    
    <meta name="generator" content="" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <!-- <link rel="stylesheet" href=""> -->
    
    <meta name="author" content="penglei" />
    <title>YByte ‚Äî Specifying Systems Á¨îËÆ∞ (Liveness)</title>
    <link rel="stylesheet" type="text/css" href="/assets/css/default.css" />
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22>
          <text y=%22.9em%22 font-size=%2290%22>
          ü¶•
          </text>
        </svg>"
    />

    <link rel="stylesheet" type="text/css" href="/assets/css/post.css" />
    <!-- * -->
    <!-- * -->
    <link
      rel="stylesheet"
      type="text/css"
      href="/assets/css/asciidoctor/css/asciidoctor.css"
    />
  </head>
  <body>
    <script>
      if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add("dark");
      } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove("dark");
      } else if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
        document.body.classList.add("dark");
      }
    </script>
    
    <header class="header">
      <nav class="nav">
        <div class="logo">
          <a href="/" accesskey="h">YByte</a>
          <div class="logo-switches">
            <button id="theme-toggle">
                  <svg
      id="sun"
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="18"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
    >
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
     <svg
      id="moon"
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="18"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
    >
      <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
    </svg>

            </button>
          </div>
        </div>
        <ul id="menu">
          <li>
            <a href="/archive" title="Archive">
              <span class=""
                >Archive</span
              >
            </a>
          </li>
          <li>
            <a href="/tags" title="Tags">
              <span class="">Tags</span>
            </a>
          </li>
          <li>
            <a href="/about" title="About">
              <span class="">About</span>
            </a>
          </li>
          <li>
            <a href="https://github.com/penglei/" title="Github" target="_blank">
              <span class="icon">    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
    >
      <path
        d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"
      ></path>
    </svg>
</span>     <svg
      fill="none"
      shape-rendering="geometricPrecision"
      stroke="currentColor"
      stroke-linecap="round"
      stroke-linejoin="round"
      stroke-width="2.5"
      viewBox="0 0 24 24"
      height="10"
      width="10"
      style="margin-left: -3px; margin-right: 3px"
    >
      <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
      <path d="M15 3h6v6"></path>
      <path d="M10 14L21 3"></path>
    </svg>

            </a>
          </li>
        </ul>
      </nav>
    </header>
    <!-- -->
    <div style="display: none">
  <script type="math/tex; mode=display">
    \newcommand{\defeq}{\triangleq}
    \newcommand{\seq}[1]{\langle #1 \rangle}
  </script>
  <!--
  <script type="math/tex; mode=display">
    \newcommand{\sc}[1]{\mathrm{\small{#1}}\;}
    \newcommand{\comment}[1]{\bbox[lightgrey,2pt]{\text{#1}}}
    \newcommand{\str}[1]{``\mathsf{#1}\!"}
    \newcommand{\nested}[1]{\!\!\rlap{\begin{aligned}\begin{alignat}{1}#1\end{alignat}\end{aligned}}}
    \newcommand{\set}[1]{\{#1\}}
    \newcommand{\llbracket}{[\![}
    \newcommand{\rrbracket}{]\!]}
    \newcommand{\sem}[1]{\llbracket #1 \rrbracket}
    \newcommand{\H}{-\!\!\!}
    \newcommand{\UR}{\lower 4.3pt {\urcorner}\!\!}
    \newcommand{\UL}{\lower 4.3pt {\ulcorner}\!\!\!}
    \newcommand{\LR}{\raise 2.5pt {\lrcorner}}
    \newcommand{\LL}{\raise 2.5pt {\llcorner}\!\!\!}
    \newcommand{\E}{\exists\,}
    \newcommand{\A}{\forall\,}
    \newcommand{\EE}{\pmb{\pmb{\boldsymbol{\boldsymbol{\exists}}}}\,}
    \newcommand{\AA}{\pmb{\pmb{\boldsymbol{\boldsymbol{\forall}}}}\,}
    \newcommand{\implies}{\Rightarrow}
    \newcommand{\whileop}{\overset{+}{-}\!\!\triangleright\; }
    \let\savedBox=\Box
    \renewcommand{\Box}{\raise1mu{\small \square} }
    \renewcommand{\Diamond}{ {\Large \diamond} }
    \newcommand{\LET}{\sc{LET}}
    \newcommand{\IN}{\sc{IN}}
    \newcommand{\RECURSIVE}{\sc{RECURSIVE}}
    \newcommand{\LAMBDA}{\sc{LAMBDA}}
    \newcommand{\IF}{\sc{IF}}
    \newcommand{\THEN}{\sc{THEN}}
    \newcommand{\ELSE}{\sc{ELSE}}
    \newcommand{\CASE}{\sc{CASE}}
    \newcommand{\OTHER}{\sc{OTHER}}
    \newcommand{\CHOOSE}{\sc{CHOOSE}}
    \newcommand{\BOOLEAN}{\sc{BOOLEAN}}
    \newcommand{\TRUE}{\sc{TRUE}}
    \newcommand{\FALSE}{\sc{FALSE}}
    \newcommand{\DOMAIN}{\sc{DOMAIN}}
    \newcommand{\EXCEPT}{\sc{EXCEPT}}
    \newcommand{\STRING}{\sc{STRING}}
    \newcommand{\MODULE}{\sc{MODULE}}
    \newcommand{\LOCAL}{\sc{LOCAL}}
    \newcommand{\INSTANCE}{\sc{INSTANCE}}
    \newcommand{\WITH}{\sc{WITH}}
    \newcommand{\EXTENDS}{\sc{EXTENDS}}
    \newcommand{\ASSUME}{\sc{ASSUME}}
    \newcommand{\VARIABLE}{\sc{VARIABLE}}
    \newcommand{\VARIABLES}{\sc{VARIABLES}}
    \newcommand{\CONSTANT}{\sc{CONSTANT}}
    \newcommand{\CONSTANTS}{\sc{CONSTANTS}}
    %\newcommand{\CONSTANTS}{\sc{\color{red}{CONSTANTS}}}
    \newcommand{\UNION}{\sc{UNION}}
    \newcommand{\SUBSET}{\sc{SUBSET}}
    \newcommand{\UNCHANGED}{\sc{UNCHANGED}}
    \newcommand{\ENABLED}{\sc{ENABLED}}
    \newcommand{\WF}{\text{WF}}
    \newcommand{\SF}{\text{SF}}
    \newcommand{\THEOREM}{\sc{THEOREM}}
    \newcommand{\LEMMA}{\sc{LEMMA}}
    \newcommand{\COROLLARY}{\sc{COROLLARY}}
    \newcommand{\PROPOSITION}{\sc{PROPOSITION}}
    \newcommand{\AXIOM}{\sc{AXIOM}}
    \newcommand{\PROOF}{\sc{PROOF}}
    \newcommand{\ASSUME}{\sc{ASSUME}}
    \newcommand{\PROVE}{\sc{PROVE}}
    \newcommand{\QED}{\sc{QED}}
    \newcommand{\BY}{\sc{BY}}
    \newcommand{\DEF}{\sc{DEF}}
    \newcommand{\DEFS}{\sc{DEFS}}
    \newcommand{\OBVIOUS}{\sc{OBVIOUS}}
    \newcommand{\OMITTED}{\sc{OMITTED}}
    \newcommand{\NEW}{\sc{NEW}}
    \newcommand{\STATE}{\sc{STATE}}
    \newcommand{\ACTION}{\sc{ACTION}}
    \newcommand{\TEMPORAL}{\sc{TEMPORAL}}
    \newcommand{\USE}{\sc{USE}}
    \newcommand{\DEFINE}{\sc{DEFINE}}
    \newcommand{\SUFFICES}{\sc{SUFFICES}}
    \newcommand{\HAVE}{\sc{HAVE}}
    \newcommand{\TAKE}{\sc{TAKE}}
    \newcommand{\PICK}{\sc{PICK}}
    \newcommand{\WITNESS}{\sc{WITNESS}}
    \newcommand{\HIDE}{\sc{HIDE}}
    \newcommand{\@w}[1]{\textsf{``{#1}''}}
  </script>
  -->
</div>

    <main class="main">
      <article class="post-single">
        <header class="post-header">
          <h1 class="post-title">Specifying Systems Á¨îËÆ∞ (Liveness)</h1>
          <div class="post-meta">
            <span>2020-09-08</span>
            <p class="tags">
              <a href="/tags/TLA+/" target="_blank"> TLA+ </a>
              <a href="/tags/Formal/" target="_blank"> Formal </a>
              <a href="/tags/Logic/" target="_blank"> Logic </a>
            </p>
          </div>
        </header>
        
        <!-- -->
        <div class="post-content doc"><div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<nav id="TableOfContents"><ul class="sectlevel1">
<li><a href="#_‰∏Ä‰∫õÊ¶ÇÂøµ">‰∏Ä‰∫õÊ¶ÇÂøµ</a></li>
<li><a href="#_ÈÄªËæëÂü∫Á°Ä">ÈÄªËæëÂü∫Á°Ä</a>
<ul class="sectlevel2">
<li><a href="#_ÂëΩÈ¢òÈÄªËæë">ÂëΩÈ¢òÈÄªËæë</a></li>
<li><a href="#_Ë∞ìËØçÈÄªËæë">Ë∞ìËØçÈÄªËæë</a></li>
</ul>
</li>
<li><a href="#_temporal_logic_ÁÆÄ‰ªã">Temporal Logic ÁÆÄ‰ªã</a>
<ul class="sectlevel2">
<li><a href="#_Êõ¥Â§öÊó∂ÊÄÅÂÖ¨ÂºèÂÆö‰πâ">Êõ¥Â§öÊó∂ÊÄÅÂÖ¨ÂºèÂÆö‰πâ</a></li>
<li><a href="#_Êó∂ÊÄÅÈÄªËæëÈáçË®ÄÂºèÊÅíÁ≠âÂºè">Êó∂ÊÄÅÈÄªËæëÈáçË®ÄÂºè(ÊÅíÁ≠âÂºè)</a></li>
<li><a href="#_Êó∂ÊÄÅÈÄªËæëÊé®ÁêÜËßÑÂàôÁ±ª‰ºº‰∫émpËßÑÂàô">Êó∂ÊÄÅÈÄªËæëÊé®ÁêÜËßÑÂàô(Á±ª‰ºº‰∫éMPËßÑÂàô)</a></li>
</ul>
</li>
<li><a href="#_livenessÂÆö‰πâ">LivenessÂÆö‰πâ</a>
<ul class="sectlevel2">
<li><a href="#_weak_fairness">Weak Fairness</a></li>
<li><a href="#_strong_fairness">Strong Fairness</a></li>
</ul>
</li>
</ul></nav>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Specifying SystemsÁöÑ1-7Á´†Â±ÇÂ±ÇÊé®ËøõÔºåÂú®ÂÆû‰æã‰∏≠Á©øÊèíÁùÄÂéüÁêÜËÆ≤Ëß£ÔºåÊ∑±ÂÖ•ÊµÖÂá∫Âú∞ËÆ≤Ëß£‰∫ÜSpecificationÊòØ‰ªÄ‰πàÔºå‰ª•ÂèäÂ¶Ç‰ΩïËÆæËÆ°Á≥ªÁªüËßÑÁ∫¶„ÄÇ
Ëøô‰∫õSpecificationË°®Êòé‰∫ÜÁ≥ªÁªüÁöÑSafetyÂ±ûÊÄß&#8201;&#8212;&#8201;Âç≥Á≥ªÁªüË°å‰∏∫Ë¢´Á∫¶ÊùüÂú®‰∏ÄÂÆöËåÉÂõ¥ÂÜÖÔºå‰∏ç‰ºöÂÅöÂá∫‰∏Ä‰∫õ‰∏çË¢´ÂÖÅËÆ∏ÁöÑË°å‰∏∫(something <strong>bad</strong> does not happen)„ÄÇ
Âú®TLA+‰∏≠ÔºåÈÄöÂ∏∏‰ΩøÁî®ÂÖ¨Âºè \(Spec \triangleq Init \land \Box [Next]_{vars}\) Êù•ÊèèËø∞Á≥ªÁªüÁöÑSafetyÂ±ûÊÄß(Á∫¶Êùü)„ÄÇ
SafetyÂ±ûÊÄßËØ¥Êòé‰∫ÜÁ≥ªÁªü‰∏≠‰ªÄ‰πà‰∏çËÉΩÂèëÁîüÔºå‰ΩÜÊó†Ê≥ïË°®ËææÁ≥ªÁªü‰∏≠<strong>Êüê‰∫õÊó∂Èó¥‰∏ÄÂÆö‰ºöÂèëÁîü</strong>ÁöÑËøôÁ±ªÂ±ûÊÄßÔºåËÄåLiveness‰æøÂèØ‰ª•Ë°®Ëææ("something <strong>good</strong> eventully happen")„ÄÇ
Liveness‰ΩøÁî®Êó∂ÊÄÅÈÄªËæëÂÖ¨ÂºèËøõË°åÊèèËø∞Ôºå‰∏Ä‰∏™Á≥ªÁªüËßÑÁ∫¶ÂèØ‰ª•ÈÄöËøáÂÖ¨Âºè \(Spec \triangleq Init \land \Box [Next]_{vars} \land L\) Êù•ÂêåÊó∂ÊèèËø∞ÂÖ∂ÂØπSafetyÂíåLivenessÁöÑË¶ÅÊ±ÇÔºå
ÂÖ¨ÂºèÊú´Â∞æÁöÑ $L$ ‰æøÊòØÊèèËø∞LivenessÂ±ûÊÄßÁöÑÂÖ¨Âºè„ÄÇ</p>
</div>
<div style="display: none;">
<script type="math/tex; mode=document">% <![CDATA[
\begin{alignat}{1}
\newcommand{\sigman}{\sigma^{+n}}
\newcommand{\mimply}{\Rightarrow}
\newcommand{\eventual}{{\large\diamond}}
\end{alignat} %]]></script>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_‰∏Ä‰∫õÊ¶ÇÂøµ"><a class="anchor" href="#_‰∏Ä‰∫õÊ¶ÇÂøµ"></a><a class="link" href="#_‰∏Ä‰∫õÊ¶ÇÂøµ">‰∏Ä‰∫õÊ¶ÇÂøµ</a></h2>
<div class="sectionbody">
<div class="paragraph">
<div class="title">value</div>
<p>valueË°®Á§∫ÈÄöÂ∏∏ÊÑè‰πâ‰∏äÁöÑÂÄºÔºåÂ¶Ç $1Ôºå2ÔºåTRUE, FALSEÔºå[name{\mapsto}``zhangsan\!", age{\mapsto}18]$„ÄÇ TLA+ÁöÑËØ≠‰πâÂü∫‰∫éZFÈõÜÂêàËÆ∫Ôºå Âõ†Ê≠§ÂÖ∂valueÂè™ÊòØÈõÜÂêà(set)ÁöÑÂè¶‰∏Ä‰∏™Áß∞Âëº„ÄÇ</p>
</div>
<div class="paragraph">
<div class="title">state</div>
<p>stateÊòØÂØπ‰∏Ä‰∫õÂèòÈáèËøõË°åËµãÂÄº(ÁöÑÁªìÊûú)ÔºåÂ¶Ç $[hr=1]$Ôºå$[hr=2]$ Á≠â„ÄÇ</p>
</div>
<div class="paragraph">
<div class="title">state function</div>
<p><em>state function</em> ÊòØ‰∏Ä‰∏™‰ª• <em>ÂèòÈáè</em>(‰∏çÂåÖÂê´ <em>primed variable</em>)„ÄÅÂ∏∏Èáè„ÄÅÊìç‰ΩúÁ¨¶ÊûÑÂª∫ÁöÑË°®ËææÂºè„ÄÇËøô‰∏™Ë°®ËææÂºèÁªôÊâÄÊúâstateÈÉΩÊò†Â∞Ñ‰∫Ü‰∏Ä‰∏™value„ÄÇÂèØ‰ª•ÁêÜËß£‰∏∫ÊØè‰∏™stateÈÉΩÂèØ‰ª•ÁªèËøáËøô‰∏™functionËÆ°ÁÆóÔºåÂæóÂà∞‰∏Ä‰∏™ <em>value</em> „ÄÇ</p>
</div>
<div class="paragraph">
<div class="title">state predicate</div>
<p>ÁªìÊûú <em>value</em> ‰∏∫ <code>Boolean</code> Á±ªÂûãÁöÑ <em>state function</em>„ÄÇ Âç≥state predicate‰∏Ä‰∏™‰ΩúÁî®‰∫éstateËøõË°åÁúüÂÄºÂà§Êñ≠ÁöÑÂÖ¨Âºè„ÄÇ</p>
</div>
<div class="paragraph">
<div class="title">behavior</div>
<p>behaviorÊòØ <em>state</em> ÁªÑÊàêÁöÑÊó†Á©∑Â∫èÂàóÔºåÂ¶Ç $\sigma \defeq [hr=1] &#8594; [hr=2] &#8594; [hr=3] &#8594; &#8230;&#8203;$ „ÄÇÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºå‰∏Ä‰∏™Á≥ªÁªüÂèØËÉΩÊúâÂ§ö‰∏™behaviorÔºåÊØîÂ¶ÇÂπ∂ÂèëÁ≥ªÁªüÂèØËÉΩÊúâÂ§öÁßçÊâßË°åÈ°∫Â∫èÔºå‰∫ßÁîü‰∏çÂêåÁöÑbehavior„ÄÇ</p>
</div>
<div class="paragraph">
<div class="title">step</div>
<p>stepÊòØstate‰πãÈó¥Áõ¥Êé•ÂèòÂåñÁöÑÊ≠•È™§„ÄÇÂÅáÂ¶Ç $s_n$, $s_{n+1}$ ÂàÜÂà´ÊòØ‰∏§‰∏™Áõ∏ÈÇªÁöÑ <em>state</em> ÔºåÈÇ£‰πà $s_n &#8594; s_{n+1}$ Â∞±ÊòØË°®Á§∫ ‰ªé $s_n$ Áõ¥Êé•ÂèòÂåñÂà∞ $s_{n+1}$ÁöÑstepÔºåÊó†ËÆ∫ <em>state</em> ‰∏≠ÊúâÂ§öÂ∞ë‰∏™ÂèòÈáèÔºåËøô‰∏™ÂèòÂåñÈÉΩÊòØÂéüÂ≠êÁöÑÔºå‰∏ç‰ºö‰∫ßÁîüÂÖ∂ÂÆÉ‰∏≠Èó¥Áä∂ÊÄÅ„ÄÇ</p>
</div>
<div class="paragraph">
<div class="title">primed variable</div>
<p>ÂèòÈáèÂèëÁîüÂèòÂåñÂêéÁöÑÂÄºÔºåÂ¶Ç $hr'=hr+1$ Ë°®Á§∫ <code>hr</code> ÂèòÈáèÁªèËøá‰∏Ä‰∏™ <em>step</em> ‰πãÂêéÔºåÂÖ∂ÂÄºÁ≠â‰∫éÂéüÂÖàÁöÑÂÄºÂä† <code>1</code> „ÄÇ</p>
</div>
<div class="paragraph">
<div class="title">action</div>
<p>ÂåÖÂê´ <em>primed variable</em> Âíå <em>unprimed variable</em> ÁöÑ formula„ÄÇ action ‰ΩúÁî®‰∫é <em>step</em> ËøõË°åÁúüÂÄºÂà§Êñ≠Ôºå‰ª•Êñ≠ÂÆöstate(ÁöÑvalue)ÊòØÂê¶ÂèØ‰ª•ÂÜçÂèëÁîüÂèòÂåñ„ÄÇspecification(ËßÑÁ∫¶)ÈÄöÂ∏∏Áî±ËÆ∏Â§öactionÁªÑÊàê„ÄÇ</p>
</div>
<div class="paragraph">
<div class="title">formula</div>
<p>ÂÄº‰∏∫TRUEÊàñFALSEÁöÑÈÄªËæëË°®ËææÂºèÔºàÊï∞ÁêÜÈÄªËæë‰∏≠ÁöÑ„ÄåÂÖ¨Âºè„ÄçÔºâ</p>
</div>
<hr>
<div class="paragraph">
<p>Ëøô‰∫õÂÆö‰πâÁöÑÂΩ¢ÂºèÂíåËØ≠‰πâÈÉΩ‰∏ç‰∏ÄÂÆöÂáÜÁ°ÆÔºåÂè™ÊòØÂ∏ÆÂä©Âä†Ê∑±ÁêÜËß£TLA+„ÄÇÁ≤æÁ°ÆÂÆö‰πâËØ¶ËßÅSpecifying SystemsÔºåÂ∞§ÂÖ∂ÊòØ Chapter 16 ÊúâËÆ∏Â§öÊèèËø∞„ÄÇ</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ÈÄªËæëÂü∫Á°Ä"><a class="anchor" href="#_ÈÄªËæëÂü∫Á°Ä"></a><a class="link" href="#_ÈÄªËæëÂü∫Á°Ä">ÈÄªËæëÂü∫Á°Ä</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_ÂëΩÈ¢òÈÄªËæë"><a class="anchor" href="#_ÂëΩÈ¢òÈÄªËæë"></a><a class="link" href="#_ÂëΩÈ¢òÈÄªËæë">ÂëΩÈ¢òÈÄªËæë</a></h3>
<div class="paragraph">
<p>ÂëΩÈ¢òÈÄªËæëËØ≠Ê≥ïÂèØ‰ª•Áî®Â¶Ç‰∏ãBNFË°®Á§∫Ôºö</p>
</div>
<div class="stemblock">
<div class="content">
\[\phi ::= p | (\lnot\phi) | (\phi\land\phi) | (\phi\lor\phi) | (\phi\to\phi)\]
</div>
</div>
</div>
<div class="sect2">
<h3 id="_Ë∞ìËØçÈÄªËæë"><a class="anchor" href="#_Ë∞ìËØçÈÄªËæë"></a><a class="link" href="#_Ë∞ìËØçÈÄªËæë">Ë∞ìËØçÈÄªËæë</a></h3>
<div class="paragraph">
<p>PTL: Propositional Temporal Logic ÔºåÊòØLTLÁöÑÂè¶‰∏ÄÁßçÁÆÄÁß∞ÔºåÂèÇËÄÉ:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://en.wikipedia.org/wiki/Linear_temporal_logic" class="bare">https://en.wikipedia.org/wiki/Linear_temporal_logic</a></p>
</li>
<li>
<p><a href="http://discuss.tlapl.us/msg00894.html" class="bare">http://discuss.tlapl.us/msg00894.html</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_temporal_logic_ÁÆÄ‰ªã"><a class="anchor" href="#_temporal_logic_ÁÆÄ‰ªã"></a><a class="link" href="#_temporal_logic_ÁÆÄ‰ªã">Temporal Logic ÁÆÄ‰ªã</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Êó∂ÊÄÅÂÖ¨ÂºèÊòØË°å‰∏∫(<em>behavior</em>)ÁöÑÁúüÂÄºÂà§Êñ≠Âºè„ÄÇÂØπ‰∫é‰∏Ä‰∏™Ë°å‰∏∫ $\sigma$ Ôºå‰ª•Âèä‰∏Ä‰∏™Êó∂ÊÄÅÂÖ¨Âºè $F$ ÔºåÂ¶ÇÊûú $\sigma$ Êª°Ë∂≥ $F$ ÔºåÂàôÂèØ‰ª•Ë°®Á§∫‰∏∫Ôºö</p>
</div>
<div class="stemblock">
<div class="content">
\[\sigma \models F\]
</div>
</div>
<div class="paragraph">
<p>‰πüÂèØÁß∞‰ΩúÊó∂ÊÄÅÂÖ¨Âºè $F$ ÂØπ‰∫éË°å‰∏∫ $\sigma$ ÊòØÁúüÁöÑÔºåÊàñÁß∞Ë°å‰∏∫ $\sigma$ Êª°Ë∂≥ÂÖ¨Âºè $F$„ÄÇ</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
‰∏∫‰∫Ü‰æø‰∫éÂèôËø∞ÔºåÊàë‰ª¨Â∞Ü‚ÄúÊó∂ÊÄÅÂÖ¨Âºè‚ÄùÁÆÄÁß∞‰∏∫‚ÄúÂÖ¨Âºè‚Äù„ÄÇ
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>ÂÖ¨ÂºèÂèØ‰ª•ÈÄöËøáËøûÊé•ËØçËøõË°åÁªÑÂêàÔºå‰πüÂèØ‰ΩøÁî®ÈáèËØçËøõË°å‰øÆÈ•∞„ÄÇÁªÑÂêàÂÖ¨ÂºèÁöÑÂê´‰πâÂ¶Ç‰∏ãÔºö</p>
</div>
<div class="ulist">
<ul>
<li>
<p>$\sigma \models (F \land G) \;\defeq \;(\sigma \models F) \land (\sigma \models G)$</p>
</li>
<li>
<p>$\sigma \models (F \lor G) \;\defeq \;(\sigma \models F) \lor (\sigma \models G)$</p>
</li>
<li>
<p>$\sigma \models (F &#8658; G) \;\defeq \;(\sigma \models F) &#8658; (\sigma \models G)$</p>
</li>
<li>
<p>$\sigma \models \lnot F \;\defeq \;\lnot (\sigma \models F)$</p>
</li>
<li>
<p>$\sigma \models (\forall r \in S: F) \;\defeq \;\forall r \in S : (\sigma \models F)$</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>‰∏äÈù¢Âá∫Áé∞ÁöÑÂÖ¨Âºè $F$, $G$ ÈÉΩÊú™Âä†ÂÆö‰πâÔºåÈÄöÂ∏∏Áî±Â¶Ç‰∏ã‰∏âÁßçÂΩ¢ÂºèÁöÑÂÖ¨ÂºèÁªÑÊàê:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>$P$</p>
<div class="paragraph">
<p><em>state predicate</em>Ôºå PÊòØ‰∏Ä‰∏™„ÄåÁä∂ÊÄÅË∞ìËØç„Äç„ÄÇÂÖ∂ËØ≠‰πâÊòØ: Â¶ÇÊûúÂ∞Ü $P$ Áúã‰ΩúÊó∂ÊÄÅÂÖ¨ÂºèÔºå ÈÇ£‰πà $\sigma$(<em>behavior</em>) Êª°Ë∂≥ $P$ ÂΩì‰∏î‰ªÖÂΩì $\sigma$ ‰∏≠ÁöÑÁ¨¨‰∏Ä‰∏™ <em>state</em> Êª°Ë∂≥ $P$„ÄÇ</p>
</div>
</li>
<li>
<p>$\Box P$</p>
<div class="paragraph">
<p>ÂÖ∂‰∏≠ $P$ ÊòØ <em>state predicate</em> „ÄÇ<em>behavior</em> Êª°Ë∂≥ $\Box P$ ÂΩì‰∏î‰ªÖÂΩì <em>behavior</em> ‰∏≠ÊâÄÊúâ <em>state</em> Êª°Ë∂≥ $P$</p>
</div>
</li>
<li>
<p>$\Box[N]_\color{red}v$</p>
<div class="paragraph">
<p>ÂÖ∂‰∏≠ $N$ ÊòØ <em>action</em> Ôºå$_\color{red}v$ ÊòØ <em>state function</em> „ÄÇ <em>behavior</em>  Êª°Ë∂≥ËØ•ÂÖ¨Âºè ÂΩì‰∏î‰ªÖÂΩì <em>behavior</em> ‰∏≠ÊØè‰∏ÄÂØπÁõ∏ÁªßÁöÑstatesÊòØ‰∏Ä‰∏™Êª°Ë∂≥ $[N]_v$ ÁöÑstep„ÄÇ</p>
</div>
<div class="paragraph">
<p>Ê≥®ÊÑèÔºö $[N]_v$ ‰∏≠ÁöÑ $_v$ ÂèØ‰ª•ÊòØ <em>state function</em> ÔºåÂπ∂‰∏çÈôêÂÆö‰∫é variablesÔºàÂ¶Ç $\seq{hr ,\, val}$)„ÄÇ <em>state function</em> ÂèØ‰ª•Â¢ûÂä† prime ËøêÁÆóÁ¨¶ÂΩ¢Êàê <em>transition function</em> „ÄÇ$[N]_v$ Á≠â‰ª∑‰∫é $ N \lor (v' = v)$ „ÄÇËØ¶ËßÅ Spcifying Systems 16.2.3„ÄÇ</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ëøô‰∏âÁßçÂÖ¨Âºè‰∏≠ÔºåËôΩÁÑ∂$P$ ÊòØ‰∏Ä‰∏™ <code>state predicate</code>Ôºå‰ΩÜÂèØ‰ª•Â∞ÜÂÖ∂Áúã‰ΩúÊòØ‰∏Ä‰∏™Ê≤°Êúâ <code>primed variables</code> ÁöÑ action(ËøôÁßçaction‰ΩúÁî®‰∫éstateÂæóÂà∞Êñ∞ÁöÑ <code>state'</code> Ê≤°ÊúâÊîπÂèòÔºåÂç≥‰∏Ä‰∏™stuttering step)„ÄÇ
ËøôÊ†∑ÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•ÊääÊó∂ÊÄÅÂÖ¨ÂºèÂΩíÁ∫≥‰∏∫‰∏§ÁßçÂΩ¢ÂºèÔºö $A$ Âíå $\Box A$ÔºåÂÖ∂‰∏≠ $A$ ÊòØ‰∏Ä‰∏™ action„ÄÇ</p>
</div>
<div class="paragraph">
<div class="title">ËØ≠‰πâËß£Èáä</div>
<p>ÂÆö‰πâ $\sigma_i$ ÊòØ $\sigma$ÁöÑÁ¨¨$(i + 1) ^{st}$‰∏™stateÔºå$\sigma$Âç≥ÊòØ: $\sigma_0\rightarrow\sigma_1\rightarrow\sigma_2\rightarrow\dotsb$„ÄÇ
Ê≥®ÊÑèËøôÈáåÁöÑËá™ÁÑ∂ËØ≠Ë®ÄË°®Ëø∞ÔºåÁ¨¨‰∏Ä‰∏™ state ÊòØ $\sigma_0$ Ôºå$\sigma_0$ ÊòØÁ¨¨‰∏Ä($i+1$)‰∏™state„ÄÇ</p>
</div>
<div class="paragraph">
<p>$\sigma \models A$ ‰∏∫ <code>true</code> Á≠â‰ª∑‰∫é $\sigma_0\rightarrow\sigma_1$ ÊòØ‰∏Ä‰∏™ $A$ step„ÄÇÁâπÊÆäÂú∫ÊôØ: Â¶ÇÊûú$A$ ÊòØ‰∏Ä‰∏™ <code>state predicate</code> Ôºå Âè™Ë¶Å $A$ ÂØπ‰∫éÁ¨¨‰∏Ä‰∏™Áä∂ÊÄÅ($\sigma_0$)Âà§ÂÆö‰∏∫ <code>true</code> Ôºå$\sigma_0\rightarrow\sigma_1$Â∞±ÊòØ‰∏Ä‰∏™ $A$ step„ÄÇ</p>
</div>
<div class="paragraph">
<p>$\sigma \models \Box A$ ‰∏∫ <code>true</code> Á≠â‰ª∑‰∫é ÊâÄÊúâÁöÑstep($\sigma_n\rightarrow\sigma_{n+1}$)ÈÉΩÊòØ‰∏Ä‰∏™ $A$ step„ÄÇ</p>
</div>
<div class="paragraph">
<p>ÂÆö‰πâ: $\sigma^{+n} \defeq \sigma_n\rightarrow\sigma_{n+1}\rightarrow\sigma_{n+2}\rightarrow\dotsb$Ôºå
Âõ†Ê≠§$\sigma_n\rightarrow\sigma_{n+1}$ ÊòØ$\sigma^{+n}$ÁöÑÁ¨¨‰∏Ä‰∏™step„ÄÇ $\sigma \models \Box A$ ‰∏∫ <code>true</code> Á≠â‰ª∑‰∫é ÂØπ‰∫éÊâÄÊúâÁöÑ $n$Ôºå
$\sigma^{+n} \models A$‰∏∫ <code>true</code> Ôºö</p>
</div>
<div class="paragraph text-center">
<p>$\sigma \models \Box A \equiv \forall n \in Nat : \sigma^{+n} \models A$</p>
</div>
<div class="paragraph">
<p>‰∏Ä‰∏™ÂæàËá™ÁÑ∂ÁöÑÊ≥õÂåñÂ∞±ÊòØÊääaction $A$ Êç¢Êàê formula $F$Ôºö</p>
</div>
<div class="paragraph text-center">
<p>$\sigma \models \Box F \equiv \forall n \in Nat : \sigma^{+n} \models F$</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
Âõ†Ê≠§Ôºå$\sigma$ Êª°Ë∂≥ $\Box F$ Á≠â‰ª∑‰∫é ÊâÄÊúâ$\sigma$ ÂêéÁºÄÁöÑ $\sigma^{+n}$ Êª°Ë∂≥ $F$„ÄÇ
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Á§∫‰æã:</p>
</div>
<script type="math/tex; mode=document">% <![CDATA[
\begin{alignat}{1}
&\;\sigma \models \Box((x = 1) \mimply \Box(y > 0)) \\
& \equiv \forall n \in Nat : \sigma^{+n} \models (( x = 1) \mimply \Box (y > 0)) \\
& \equiv \forall n \in Nat : (\sigman \models (x = 1)) \mimply (\sigman \models \Box (y > 0)) \\
& \equiv \forall n \in Nat : (\sigman \models (x = 1)) \mimply (\forall m \in Nat : (\sigman)^{+m} \models (y > 0))
\end{alignat} %]]></script>
<div class="sect2">
<h3 id="_Êõ¥Â§öÊó∂ÊÄÅÂÖ¨ÂºèÂÆö‰πâ"><a class="anchor" href="#_Êõ¥Â§öÊó∂ÊÄÅÂÖ¨ÂºèÂÆö‰πâ"></a><a class="link" href="#_Êõ¥Â§öÊó∂ÊÄÅÂÖ¨ÂºèÂÆö‰πâ">Êõ¥Â§öÊó∂ÊÄÅÂÖ¨ÂºèÂÆö‰πâ</a></h3>
<div class="ulist">
<ul>
<li>
<p>$\eventual F \defeq \neg\Box\neg F$</p>
</li>
<li>
<p>$F \leadsto G \defeq \Box(F \mimply \eventual G)$</p>
</li>
<li>
<p>$\eventual\seq{A}_v \defeq \neg\Box[\neg A]_v$</p>
<div class="paragraph">
<p>ÂÖ¨Âºè‰∏≠AÊòØ‰∏Ä‰∏™ <code>action</code> Ôºå$_v$ ÊòØ‰∏Ä‰∏™ <code>state function</code>ÔºåËøôË°®Á§∫ÊúÄÁªàÊüê‰∫õstepÊòØ‰∏Ä‰∏™ÊîπÂèò‰∫Ü$_v$‰∏îÊª°Ë∂≥$A$ÁöÑstep„ÄÇ</p>
</div>
<div class="paragraph">
<p>Â¶ÇÊûúÂÆö‰πâ $\seq{A}_v \defeq A \land (v' \neq v)$ ÔºåÈÇ£‰πà‰πüÂèØ‰ª•ÁêÜËß£ $\eventual\seq{A}_v$ ÊòØ $\eventual$ Âíå $\seq{A}_v$ ÁöÑÁªìÂêàÔºåÂç≥ÊúÄÁªàÊúâ‰∏Ä‰∏™$\seq{A}_v$ step‰ºöÂèëÁîü„ÄÇ(ËøôÁßçÁêÜËß£‰∏çÊòØÂÆåÂÖ®Ê≠£Á°ÆÁöÑÔºåÂõ†‰∏∫ $\seq{A}_v$Âπ∂‰∏çÊòØ‰∏Ä‰∏™ÂêàÊ≥ïÁöÑÂÖ¨ÂºèÔºåÂè™ÊòØ‰∏Ä‰∏™ÁÆÄÂÜô)„ÄÇ</p>
</div>
</li>
<li>
<p>$\Box\eventual F$ Â§™Â•ΩÁêÜËß£Ôºå‰∏çÁî®Ëß£Èáä</p>
</li>
<li>
<p>$\eventual\Box F$ Â§™Â•ΩÁêÜËß£Ôºå‰∏çÁî®Ëß£Èáä</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_Êó∂ÊÄÅÈÄªËæëÈáçË®ÄÂºèÊÅíÁ≠âÂºè"><a class="anchor" href="#_Êó∂ÊÄÅÈÄªËæëÈáçË®ÄÂºèÊÅíÁ≠âÂºè"></a><a class="link" href="#_Êó∂ÊÄÅÈÄªËæëÈáçË®ÄÂºèÊÅíÁ≠âÂºè">Êó∂ÊÄÅÈÄªËæëÈáçË®ÄÂºè(ÊÅíÁ≠âÂºè)</a></h3>
<div class="ulist">
<ul>
<li>
<p>$\Box F \mimply F$</p>
</li>
<li>
<p>$\neg\Box F \equiv \eventual\neg F$</p>
</li>
<li>
<p>$\Box(F \land G) \equiv (\Box F) \land (\Box G)$</p>
</li>
<li>
<p>$\eventual(F \lor G) \equiv (\eventual F) \lor (\eventual G)$</p>
</li>
<li>
<p>$\Box\eventual(F \lor G) \equiv (\Box\eventual F) \lor (\Box\eventual G)$</p>
</li>
<li>
<p>$\eventual\Box(F \land G) \equiv (\eventual\Box F) \land (\eventual\Box G)$</p>
</li>
<li>
<p>$\Box\eventual(\seq{A}_v \lor \seq{B}_v) \equiv (\Box\eventual\seq{A}_v) \lor (\Box\eventual\seq{B}_v)$</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_Êó∂ÊÄÅÈÄªËæëÊé®ÁêÜËßÑÂàôÁ±ª‰ºº‰∫émpËßÑÂàô"><a class="anchor" href="#_Êó∂ÊÄÅÈÄªËæëÊé®ÁêÜËßÑÂàôÁ±ª‰ºº‰∫émpËßÑÂàô"></a><a class="link" href="#_Êó∂ÊÄÅÈÄªËæëÊé®ÁêÜËßÑÂàôÁ±ª‰ºº‰∫émpËßÑÂàô">Êó∂ÊÄÅÈÄªËæëÊé®ÁêÜËßÑÂàô(Á±ª‰ºº‰∫éMPËßÑÂàô)</a></h3>
<div class="ulist">
<ul>
<li>
<p>Ê¶ÇÊã¨(Ê≥õÂåñ?)ËßÑÂàô: $F \mimply \Box F$ ÔºåË°®Á§∫ $F$ ‰∏∫ <code>true</code> Êó∂Ôºå $\Box F$‰∏∫ <code>true</code> „ÄÇ</p>
</li>
<li>
<p>Ëï¥Âê´Ê¶ÇÊã¨ËßÑÂàô: $(F \mimply G) \mimply (\Box F \mimply \Box G)$</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>ÈúÄË¶ÅÊÑè‰∏éÈáçË®ÄÂºè‰∏éÊé®ÁêÜËßÑÂàôÁöÑÂå∫Âà´„ÄÇ‰æãÂ¶ÇÔºå‰∏äÈù¢ÁöÑ&#8217;Ê¶ÇÊã¨ËßÑÂàô&#8217;Ë¶ÅÊ±Ç $F$ ‰∏∫ <code>true</code> Êó∂ÊâçËÉΩÊé®ÂÆö $\Box F$Ôºå‰ΩÜÈáçË®ÄÂºèÊ≤°ÊúâËøô‰∏™Ë¶ÅÊ±ÇÔºåÂõ†‰∏∫ÈáçË®ÄÂºèÁöÑËØ≠‰πâÊòØÊ∞∏ÁúüÁöÑ„ÄÇ</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_livenessÂÆö‰πâ"><a class="anchor" href="#_livenessÂÆö‰πâ"></a><a class="link" href="#_livenessÂÆö‰πâ">LivenessÂÆö‰πâ</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>livenessÂ±ûÊÄßÂèØ‰ª•ÈÄöËøáÊó∂ÊÄÅÈÄªËæëËøõË°åÊèèËø∞ÔºÅ</p>
</div>
<div class="paragraph">
<p>TLA+Êèê‰æõ‰∏§ÁßçÊ†áÂáÜÁöÑ(Â∏∏Áî®ÁöÑ)ÊûÑÂª∫LivenessÁöÑÁ¨¶Âè∑</p>
</div>
<div class="sect2">
<h3 id="_weak_fairness"><a class="anchor" href="#_weak_fairness"></a><a class="link" href="#_weak_fairness">Weak Fairness</a></h3>
<script type="math/tex; mode=document">% <![CDATA[
\begin{alignat}{1}
& WF_v(A) \defeq \Box(\Box \;ENABLED\seq{A}_v\;\;\;\;\;   & \mimply \;\; & \eventual\seq{A}_v) \\
&\kern{37pt} \equiv \Box\eventual(\neg ENABLED\seq{A}_v)  & \lor         & \Box\eventual\seq{A}_v \\
&\kern{37pt} \equiv \eventual\Box(ENABLED\seq{A}_v)       & \mimply      & \Box\eventual\seq{A}_v
\end{alignat} %]]></script>
<p></p>
<div class="paragraph">
<p>Ëøô‰∫õÂÖ¨ÂºèÁöÑÁ≠â‰ª∑ÊÄßÂèØ‰ª•ÈÄöËøáÊó∂ÊÄÅÈÄªËæëÂíåÂëΩÈ¢òÈÄªËæëÁöÑÈáçË®ÄÂºèËøõË°åËØÅÊòé„ÄÇ
Â¶ÇÊûúÁî® $E$ Ë°®Á§∫ $ENABLED\seq{A}_v$ÔºåÁî® $A$Ë°®Á§∫ $\seq{A}_v$„ÄÇ ÂàôÂèØ‰ª•Â∞Ü $WF_v(A)$ ÂèØË°®Á§∫‰∏∫ $\Box(\Box E\mimply\eventual A))$„ÄÇ</p>
</div>
</div>
<div class="sect2">
<h3 id="_strong_fairness"><a class="anchor" href="#_strong_fairness"></a><a class="link" href="#_strong_fairness">Strong Fairness</a></h3>
<script type="math/tex; mode=document">% <![CDATA[
\begin{alignat}{1}
&SF_v(A) \defeq \eventual\Box(\neg ENABLED\seq{A}_v) \;\; & \lor  \;\; & \Box\eventual\seq{A}_v \\
&\kern{32pt} \equiv \Box\eventual ENABLED\seq{A}_v & \mimply \;\; & \Box\eventual\seq{A}_v
\end{alignat} %]]></script>
<p></p>
</div>
</div>
</div></div>
      </article>
    </main>
    <footer class="footer">
      <span>¬© 2023 </span>
      <span>
        Powered by
        <a href="/" rel="noopener noreferrer" target="_blank">hbrush</a>
        &amp;
        <a href="https://shakebuild.com/" rel="noopener" target="_blank">Shake</a>
      </span>
    </footer>
    
    <script>
      document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
          document.body.classList.remove("dark");
          localStorage.setItem("pref-theme", "light");
        } else {
          document.body.classList.add("dark");
          localStorage.setItem("pref-theme", "dark");
        }
      });
    </script>
    <!-- -->
    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    jax: ["input/TeX","output/CommonHTML"],
    //displayAlign: "left",
    extensions: ["tex2jax.js","AssistiveMML.js"], // "MathMenu.js","MathZoom.js", "a11y/accessibility-menu.js"
    TeX: {
      extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"],
      equationNumbers: { autoNumber: "none" }
    },
    tex2jax: {
      //inlineMath: [["\\(", "\\)"]],
      inlineMath: [['\\(', '\\)'], ['$', '$']],
      displayMath: [["\\[", "\\]"]],
      ignoreClass: "nostem|nolatexmath",
      processEscapes: true,
      balanceBraces: true
    },
    asciimath2jax: {
      delimiters: [["\\$", "\\$"]],
      ignoreClass: "nostem|noasciimath"
    },
    showMathMenu: false,
    showMathMenuMSIE: false,
    menuSettings: {
        inTabOrder: false,
        zoom: "None"
    },
    'HTML-CSS': {
        availableFonts: [],
        webFont: 'TeX',
    }
  })
  MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
    MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
      if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains('stemblock')) {
        data.math.root.display = "block"
      }
      return data
    })
  });

  MathJax.Hub.Register.MessageHook("Math Processing Error", function (message) {
      console.log(message)
  });
  MathJax.Hub.Register.MessageHook("TeX Jax - parse error", function (message) {
      console.log(message)
  });

  (function () {
    var EXT = MathJax.Extension, mm, mz;
          MathJax.Hub.Register.StartupHook("End Typeset",function () {
            mm = EXT.MathMenu; mz = EXT.MathZoom;
            EXT.MathMenu = EXT.MathZoom = {};
          });
    MathJax.Hub.Queue(function () {
      if (mm) {EXT.MathMenu = mm} else {delete EXT.MathMenu}
      if (mm) {EXT.MathZoom = mz} else {delete EXT.MathZoom}
    });
  })();
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
  </body>
</html>
