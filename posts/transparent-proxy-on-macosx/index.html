<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta name="renderer" content="webkit" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1"
    />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec" />
    
    <meta name="generator" content="" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <!-- <link rel="stylesheet" href=""> -->
    
    <meta name="author" content="penglei" />
    <title>YByte — macOS 全局透明代理</title>
    <link rel="stylesheet" type="text/css" href="/assets/css/default.css" />
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22>
          <text y=%22.9em%22 font-size=%2290%22>
          🦥
          </text>
        </svg>"
    />

    <link rel="stylesheet" type="text/css" href="/assets/css/post.css" />
    <!-- * -->
    <!-- * -->
    <link
      rel="stylesheet"
      type="text/css"
      href="/assets/css/asciidoctor/css/asciidoctor.css"
    />
  </head>
  <body>
    <script>
      if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add("dark");
      } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove("dark");
      } else if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
        document.body.classList.add("dark");
      }
    </script>
    
    <header class="header">
      <nav class="nav">
        <div class="logo">
          <a href="/" accesskey="h">YByte</a>
          <div class="logo-switches">
            <button id="theme-toggle">
                  <svg
      id="sun"
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="18"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
    >
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
     <svg
      id="moon"
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="18"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
    >
      <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
    </svg>

            </button>
          </div>
        </div>
        <ul id="menu">
          <li>
            <a href="/archive" title="Archive">
              <span class=""
                >Archive</span
              >
            </a>
          </li>
          <li>
            <a href="/tags" title="Tags">
              <span class="">Tags</span>
            </a>
          </li>
          <li>
            <a href="/about" title="About">
              <span class="">About</span>
            </a>
          </li>
          <li>
            <a href="https://github.com/penglei/" title="Github" target="_blank">
              <span class="icon">    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
    >
      <path
        d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"
      ></path>
    </svg>
</span>     <svg
      fill="none"
      shape-rendering="geometricPrecision"
      stroke="currentColor"
      stroke-linecap="round"
      stroke-linejoin="round"
      stroke-width="2.5"
      viewBox="0 0 24 24"
      height="10"
      width="10"
      style="margin-left: -3px; margin-right: 3px"
    >
      <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
      <path d="M15 3h6v6"></path>
      <path d="M10 14L21 3"></path>
    </svg>

            </a>
          </li>
        </ul>
      </nav>
    </header>

    <main class="main">
      <article class="post-single">
        <header class="post-header">
          <h1 class="post-title">macOS 全局透明代理</h1>
          <div class="post-meta">
            <span>2019-02-17</span>
            <p class="tags">
              <a href="/tags/macOS/" target="_blank"> macOS </a>
              <a href="/tags/pf/" target="_blank"> pf </a>
              <a href="/tags/redsocks2/" target="_blank"> redsocks2 </a>
              <a href="/tags/socks5/" target="_blank"> socks5 </a>
            </p>
          </div>
        </header>
        
        <!-- -->
        <div class="post-content doc"><div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<nav id="TableOfContents"><ul class="sectlevel1">
<li><a href="#_关于代理">关于代理</a></li>
<li><a href="#architecture">方案架构</a></li>
<li><a href="#_详细流程">详细流程</a>
<ul class="sectlevel2">
<li><a href="#_a_配置pf_conf">A. 配置pf.conf</a></li>
<li><a href="#_b_创建直连ip白名单文件">B. 创建直连IP白名单文件</a></li>
<li><a href="#_c_配置redsocks">C. 配置redsocks</a></li>
<li><a href="#_d_编译安装redsocks">D. 编译安装redsocks</a></li>
<li><a href="#_e_安装配置socks5服务">E. 安装配置SOCKS5服务</a></li>
<li><a href="#_f_运行服务">F. 运行服务</a></li>
</ul>
</li>
<li><a href="#_总结">总结</a></li>
<li><a href="#_references">References</a></li>
</ul></nav>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>我厂办公环境只能通过「HTTP代理」连接外网，作为程序猿，MacBook上有形形色色需要连接外网的软件，
这些软件支持的代理协议、代理的设置方式可能都有所不同，给这些软件设置代理成为了一件繁琐的事情。
下班离开公司，MacBook网络环境改变，可能还需要切换或取消公司的代理设置，这极大地增加了程序猿的心智负担。
因此我一直想寻求灵活统一的全局代理设置方式，这中间尝试过 <code>Proxifier</code> 、 <code>proxychains</code> 等，但并不满意。
想到Linux通过iptables实现科学上网的透明代理非常容易，研究了一下macOS的包过滤机制，
发现 <a href="https://www.openbsd.org/faq/pf/" target="_blank" rel="noopener">pf</a> 可以实现类似的方案，因此分享一下。如果您不了解 <code>pf</code> ，
可以通过执行 <code>man pf.conf</code> 或查看Murus的 <a href="https://murusfirewall.com/Documentation/OS%20X%20PF%20Manual.pdf" target="_blank" rel="noopener">macOS pf手册</a> 进行学习。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_关于代理"><a class="anchor" href="#_关于代理"></a><a class="link" href="#_关于代理">关于代理</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>比较流行的代理协议有 <code>SOCKS5</code> 和 <code>HTTP</code> ，不同的软件对代理的支持没有统一的标准：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>大部软件支持 <code>HTTP</code> 代理，一般可以通过 <code>HTTP_PROXY</code> 环境变量进行设置；</p>
</li>
<li>
<p>有些软件不支持代理，或者只支持 <code>SOCKS5</code> 或 <code>HTTP</code> 代理中的一种；</p>
</li>
<li>
<p>虚拟机常常需要在 guest os 里面设置代理，host 上的代理配置并没有什么作用；</p>
</li>
<li>
<p>&#8230;&#8203; 其它奇奇怪怪的场景</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>显示地在应用程序中设置代理非常繁琐，与此对应，如果在系统层面统一设置代理，让应用程序不需要感知代理的存在，则非常自然友好，我们常常将后者称为透明代理(<code>Transparent Proxy</code>)。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="architecture"><a class="anchor" href="#architecture"></a><a class="link" href="#architecture">方案架构</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>我们希望在应用程序访问目标地址(eg: 1.2.3.4)时，<code>pf</code> 劫持流量，将其转发到本地透明代理上，透明代理再连接远端代理服务器，进而访问到目标地址。</p>
</div>
<div class="paragraph">
<p>架构示意图：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">.........................macOS............................
.                (userspace)                             .
.                                 127.0.0.1:12345        .
. +----------+                  +------------------+     .  +---------------+
. |   APP    |                  | transprant proxy +-------&gt;| socks5 server +---&gt;outside world
. +----------+                  +------------------+     .  +---------------+    (eg: 1.2.3.4)
.      | eg: 1.2.3.4                      ^              .
+======|==================================|===============
.      |        (kernel space)            |              .
.      |                        pf rdr    |              .
.      |                      +-----------+              .
.      v                      |                          .
.  +----+--+               +--+--+                       .
.  |  en0  +--------------&gt;| lo0 |                       .
.  +-------+  pf route-to  +-----+                       .
.                                                        .
..........................................................</pre>
</div>
</div>
<div class="paragraph">
<p>透明代理使用SOCKS5服务器作为它的上游服务器，同时 <code>transparent proxy</code> 连接 <code>socks5 server</code> 一般也是需要经过 <code>en0</code> 接口，图中并没有画出。</p>
</div>
<div class="paragraph">
<p>不像iptables redirect可以配置在OUTPUT链中，pf <strong>rdr-to</strong> 只对ingress流量起作用，如果想要把本机的egress流量劫持到透明代理上，需要将其路由到另一个interface，转变为后者的ingress流量，再利用 <strong>rdr-to</strong> 进行流量转发(在这里我们利用了本地lo0)。</p>
</div>
<div class="listingblock">
<div class="title">pf rules:</div>
<div class="content">
<pre class="highlight nowrap"><code class="language-pf" data-lang="pf">rdr pass on lo0 proto tcp from any to 1.2.3.4 -&gt; 127.0.0.1 port 12345
pass out route-to (lo0 127.0.0.1) proto tcp from any to 1.2.3.4</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>第一条规则 <strong>rdr</strong> 表示将进入lo0、协议为TCP、任何来源、目的地址是1.2.3.4的流量转发到 <code>127.0.0.01:12456</code> ；</p>
</li>
<li>
<p>第二条规则 <strong>route-to</strong> 表示将从本地任何地址(一台设备可能有多个IP地址)访问1.2.3.4的TCP流量路由到另一个地址(这里是lo0 127.0.0.1)；</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>当然，这个方案其实有一些缺陷：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>未考虑IPv6；</p>
</li>
<li>
<p>只支持TCP协议；</p>
</li>
<li>
<p>DNS 污染问题需要单独解决；</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>前面两个问题目前影响不大，但第3个问题却会影响日常使用，将来我会在本文中补充一下我的解决方案。</p>
</div>
<div class="paragraph">
<p>从前面的示意图中可以看出，透明代理的核心思路非常简单，如果看到这里您已经明白如何去实现透明代理，可以不用再看下文的啰嗦流程。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_详细流程"><a class="anchor" href="#_详细流程"></a><a class="link" href="#_详细流程">详细流程</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>现实世界总是要复杂一点，透明代理还有一些细节问题需要解决：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>需要考虑哪些流量需要经过代理？ (访问代理服务器的流量不能再走代理)</p>
</li>
<li>
<p>透明代理用什么程序实现？</p>
</li>
<li>
<p>由于某些原因，本机可能不能直接连接远端SOCKS5代理服务器，如何处理？</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>更真实的架构：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">..............................macOS..............................
.                                                               .
. +----------+                                                  .
. |   APP    |                                                  .
. +----------+                             127.0.0.1:12345      .
.      | eg: 1.2.3.4            pf rdr-to  +------------------+ .
.      |                      +-----------&gt;|     redsocks     | .
.      v                      |            +---------+--------+ .
.  +----+--+               +--+--+                   |          .
.  |  en0  +--------------&gt;| lo0 |                   |          .
.  +-------+  pf route-to  +-----+                   |          .
.                                                    v          .
.                                          127.0.0.1:29090      .
.                                          +------------------+ .   +---------------+
.                                          |     ss-local     +----&gt;|  ss-server    +---&gt;outside world
.                                          +------------------+ .   +---------------+    (eg: 1.2.3.4)
.                                                               .   SERVER_IP:PORT
.................................................................</pre>
</div>
</div>
<div class="sect2">
<h3 id="_a_配置pf_conf"><a class="anchor" href="#_a_配置pf_conf"></a><a class="link" href="#_a_配置pf_conf">A. 配置pf.conf</a></h3>
<div class="paragraph">
<p>我习惯使用系统默认位置的配置文件，直接编辑 <code>/etc/pf.conf</code> (默认需要root权限)，按如下进行配置：</p>
</div>
<div class="listingblock copy">
<div class="title">/etc/pf.conf</div>
<div class="content">
<pre class="highlight nowrap"><code class="language-pf" data-lang="pf">scrub-anchor "com.apple/*"

table &lt;direct_cidr&gt; persist file "/opt/etc/direct_cidr.txt" //<b class="conum">(1)</b>

nat-anchor "com.apple/*"

rdr-anchor "com.apple/*"
rdr pass on lo0 proto tcp from any to !&lt;direct_cidr&gt; -&gt; 127.0.0.1 port 12345 //<b class="conum">(3)</b>

pass out route-to (lo0 127.0.0.1) proto tcp from any to !&lt;direct_cidr&gt; //<b class="conum">(2)</b>

dummynet-anchor "com.apple/*"

anchor "com.apple/*"
load anchor "com.apple" from "/etc/pf.anchors/com.apple"</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>加载直接连接的IP白名单，存入 <code>direct_cidr</code> 表中；</p>
</li>
<li>
<p>将所有非直连的流量路由到本地lo0接口上；</p>
</li>
<li>
<p>对于 <strong>进入</strong> lo0接口的流量，如果是目标地址是非直连IP，转发到本地透明代理(127.0.0.1:12345)；</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_b_创建直连ip白名单文件"><a class="anchor" href="#_b_创建直连ip白名单文件"></a><a class="link" href="#_b_创建直连ip白名单文件">B. 创建直连IP白名单文件</a></h3>
<div class="paragraph">
<p>前面的配置文件 <code>/etc/pf.conf</code> 使用pf的table语法引用了直连IP白名单文件，需要自行创建该文件：</p>
</div>
<div class="listingblock copy">
<div class="title">/opt/etc/direct_cidr.txt</div>
<div class="content">
<pre class="highlight nowrap"><code># lan
192.31.196.0/24
192.52.193.0/24
127.0.0.0/8
192.175.48.0/24
192.0.0.0/24
198.18.0.0/15
203.0.113.0/24
100.64.0.0/10
240.0.0.0/4
0.0.0.0/8
192.88.99.0/24
172.16.0.0/12
192.168.0.0/16
198.51.100.0/24
255.255.255.255
192.0.2.0/24
169.254.0.0/16
224.0.0.0/4
10.0.0.0/8

# put your proxy server here
# eg: 35.x.x.x //<b class="conum">(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>需要将你的远端服务器地址加入IP直连白名单</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_c_配置redsocks"><a class="anchor" href="#_c_配置redsocks"></a><a class="link" href="#_c_配置redsocks">C. 配置redsocks</a></h3>
<div class="paragraph">
<p>redsocks监听 <code>127.0.0.1:12345</code> 地址，将流量转发到本地的 <code>127.0.0.1:29090</code> (SOCKS5代理服务器)</p>
</div>
<div class="listingblock copy">
<div class="title">/opt/etc/redsocks.conf</div>
<div class="content">
<pre class="highlight nowrap"><code>base {
  log_debug = off;
  log_info = on;
  daemon = off;
  redirector = pf;
}

redsocks {
  local_ip = 127.0.0.1;
  local_port = 12345;
  ip = 127.0.0.1;
  port = 29090;
  type = socks5;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_d_编译安装redsocks"><a class="anchor" href="#_d_编译安装redsocks"></a><a class="link" href="#_d_编译安装redsocks">D. 编译安装redsocks</a></h3>
<div class="paragraph">
<p>原版redsocks年久失修，对新版macOS支持并不好，有网友fork之后进行了修正将其命名为redsocks2，但是对于最新的macOS编译还是有一点小问题，因此我又进行了一次fork，但不保证以后是否能正常编译。</p>
</div>
<div class="paragraph">
<p>编译redsocks2，将其安装到 <code>/opt/bin/redsocks</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-shell" data-lang="shell">$ mkdir -p /opt/bin
$ git clone https://github.com/penglei/redsocks.git redsocks2.git &amp;&amp; cd redsocks2.git &amp;&amp; make OSX_VERSION=master
$ mv redsocks2 /opt/bin/redsocks</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_e_安装配置socks5服务"><a class="anchor" href="#_e_安装配置socks5服务"></a><a class="link" href="#_e_安装配置socks5服务">E. 安装配置SOCKS5服务</a></h3>
<div class="paragraph">
<p>这个步骤有很多方法，比如 ssh -L 建立SOCKS5代理，或者使用ss, v2ray等等软件都可以，相信大部分人都知道应该怎么做。
需要注意的是SOCKS5服务监听地址是 <code>127.0.0.1:29090</code> ，redsocks的配置指明了将流量转发到该地址。</p>
</div>
</div>
<div class="sect2">
<h3 id="_f_运行服务"><a class="anchor" href="#_f_运行服务"></a><a class="link" href="#_f_运行服务">F. 运行服务</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>SOCKS5 服务需要根据自己的实际情况运行；</p>
</li>
<li>
<p>redsocks通过访问 <code>/dev/pf</code> 来获取连接的原始目标地址，因此需要 <code>root</code> 权限来运行:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-shell" data-lang="shell">$ sudo su -
Password:
root# /opt/bin/redsocks -c /opt/etc/redsocks.conf</code></pre>
</div>
</div>
</li>
<li>
<p>配置pf同样需要 <code>root</code> 权限，创建一个新的terminal窗口运行:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-shell" data-lang="shell">$ sudo su -
Password:
root#  sysctl -w net.inet.ip.forwarding=1 //<b class="conum">(1)</b>
net.inet.ip.forwarding: 1 -&gt; 1
root#  pfctl -e                           //<b class="conum">(2)</b>
...
pf enabled
root#  pfctl -F all                       //<b class="conum">(3)</b>
root#  pfctl -f /etc/pf.conf              //<b class="conum">(4)</b>
pfctl: Use of -f option, could result in flushing of rules
present in the main ruleset added by the system at startup.
...
ALTQ related functions disabled</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>开启IP转发功能</p>
</li>
<li>
<p>开启pf(默认是关闭的)</p>
</li>
<li>
<p>清空所有配置</p>
</li>
<li>
<p>加载配置文件</p>
</li>
</ol>
</div>
</li>
<li>
<p>如果想停止使用透明代理访问，禁用pf(<code>sudo pf -d</code>)或者清空pf规则(<code>sudo pf -F all</code>)即可。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>服务运行之后，我们的macOS就已经有了透明代理的功能，
运行curl来验证一下:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-console" data-lang="console">$ curl -I https://www.google.com --resolve 'www.google.com:443:216.58.200.36'
HTTP/2 302
location: https://www.google.com.hk/url?sa=p&amp;hl=zh-CN&amp;pref=hkredirect&amp;pval=yes&amp;q=https://www.google.com.hk/&amp;ust=1550640983822937&amp;usg=AOvVaw3PnKH6XFhOkLB56FH7sVHc
cache-control: private
content-type: text/html; charset=UTF-8
p3p: CP="This is not a P3P policy! See g.co/p3phelp for more info."
date: Wed, 20 Feb 2019 05:35:53 GMT
server: gws
content-length: 372
x-xss-protection: 1; mode=block
x-frame-options: SAMEORIGIN
set-cookie: 1P_JAR=2019-02-20-05; expires=Fri, 22-Mar-2019 05:35:53 GMT; path=/; domain=.google.com
set-cookie: NID=160=U44fC0UHxupm7ClkYUGknQQR8gT8JmqDIhrL3VDquqo6wFketgeSCqBEgNHea2cClfa8pyYwo1u2X44uU7vIaEd5Bxeoakgtwq0aauu5Kzv5hX0N65TNmPH7LYTaESyQAT5lVMSu_RO9JarbeukX2oNoVBL_y3q0d8sty2_u7eU; expires=Thu, 22-Aug-2019 05:35:53 GMT; path=/; domain=.google.com; HttpOnly
alt-svc: quic=":443"; ma=2592000; v="44,43,39"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Good. It works!</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_总结"><a class="anchor" href="#_总结"></a><a class="link" href="#_总结">总结</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>对于普通用户，这个方法太过折腾，其维护成本高，带来的收益却不明显，甚至还需要解决DNS的问题，
不如在chrome里面通过SwitchyOmega配置SOCKS5代理来得方便，所以并不推荐普通用户使用。
如果您像我一样爱偷懒，这个方法倒是可能有一些帮助。</p>
</div>
<div class="paragraph">
<p>最后，我厂只能通过HTTP代理访问外网怎么办呢？ 最简单的方法把HTTP代理转发成SOCKS5代理，<code>goproxy</code> 可以做到，
我是通过HTTP代理连接另一台外网server来实现SOCKS5代理的，但这方法不具有通用性，就不再赘述。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_references"><a class="anchor" href="#_references"></a><a class="link" href="#_references">References</a></h2>
<div class="sectionbody">
<div class="ulist bibliography">
<ul class="bibliography">
<li>
<p><a href="https://www.zfl9.com/ss-redir.html" class="bare" target="_blank" rel="noopener">https://www.zfl9.com/ss-redir.html</a></p>
</li>
</ul>
</div>
</div>
</div></div>
      </article>
    </main>
    <footer class="footer">
      <span>© 2023 </span>
      <span>
        Powered by
        <a href="/" rel="noopener noreferrer" target="_blank">hbrush</a>
        &amp;
        <a href="https://shakebuild.com/" rel="noopener" target="_blank">Shake</a>
      </span>
    </footer>
    
    <script>
      document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
          document.body.classList.remove("dark");
          localStorage.setItem("pref-theme", "light");
        } else {
          document.body.classList.add("dark");
          localStorage.setItem("pref-theme", "dark");
        }
      });
    </script>
  </body>
</html>
